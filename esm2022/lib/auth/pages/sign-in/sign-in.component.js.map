{"version":3,"file":"sign-in.component.js","sourceRoot":"","sources":["../../../../../../../../../packages/modules/rc-ui/src/lib/auth/pages/sign-in/sign-in.component.ts","../../../../../../../../../packages/modules/rc-ui/src/lib/auth/pages/sign-in/sign-in.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  inject,\n  Input,\n  Output,\n} from '@angular/core';\nimport {\n  FormBuilder,\n  FormControl,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport {\n  VCLCheckboxModule,\n  VCLInputModule,\n  VCLFormControlGroupModule,\n  VCLPasswordInputModule,\n  VCLButtonModule,\n} from '@vcl/ng-vcl';\n\nimport { AUTH_BRANDING_CONFIG, AuthBrandingConfig } from '../../auth.config';\nimport { RsAuthLayoutComponent } from '../../layouts';\nimport { RsTranslatePipe } from '../../../i18n';\nimport { AsyncPipe } from '@angular/common';\n\nexport interface SignInCredentials {\n  identifier: string;\n  password: string;\n  remember: boolean;\n}\n\n@Component({\n  selector: 'rc-sign-in',\n  templateUrl: './sign-in.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    ReactiveFormsModule,\n    VCLCheckboxModule,\n    VCLButtonModule,\n    VCLInputModule,\n    VCLFormControlGroupModule,\n    VCLPasswordInputModule,\n    RouterModule,\n    RsAuthLayoutComponent,\n    RsTranslatePipe,\n    AsyncPipe,\n  ],\n})\nexport class RcSignInComponent {\n  @Input() appName?: string;\n  @Input() logoUrl?: string;\n  @Input() logoAlt?: string;\n  @Input() tagline?: string;\n\n  @Output() signIn = new EventEmitter<SignInCredentials>();\n\n  fb = inject(FormBuilder);\n  readonly config = inject(AUTH_BRANDING_CONFIG, { optional: true });\n\n  form = this.fb.group({\n    identifier: ['', [Validators.required]],\n    password: ['', [Validators.required]],\n    remember: [false, []],\n  });\n\n  get formFields() {\n    return {\n      identifier: this.form.get('identifier') as FormControl,\n      password: this.form.get('password') as FormControl,\n      remember: this.form.get('remember') as FormControl,\n    };\n  }\n\n  get branding(): AuthBrandingConfig {\n    const fallback: AuthBrandingConfig = {\n      appName: 'My App',\n      logoUrl: '',\n      logoAlt: 'App logo',\n      tagline: '',\n    };\n\n    const base = this.config ?? fallback;\n\n    return {\n      appName: this.appName ?? base.appName,\n      logoUrl: this.logoUrl ?? base.logoUrl,\n      logoAlt: this.logoAlt ?? base.logoAlt ?? base.appName,\n      tagline: this.tagline ?? base.tagline,\n    };\n  }\n\n  onSubmit(): void {\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n\n    const payload: SignInCredentials = {\n      identifier: this.form.value.identifier?.trim() ?? '',\n      password: this.form.value.password ?? '',\n      remember: this.form.value.remember || false,\n    };\n\n    this.signIn.emit(payload);\n  }\n}\n","<rc-auth-layout>\n  <div class=\"w-100p col justify-center align-items-center mt-3 mb-2\">\n    @if (branding.logoUrl) {\n    <span>\n      <img\n        width=\"100\"\n        [src]=\"branding.logoUrl\"\n        [alt]=\"branding.logoAlt\"\n      />\n    </span>\n    }\n    <h3 class=\"p-2\">{{ branding.appName }}</h3>\n  </div>\n  <div class=\"mt-1 row justify-center align-item-center\">\n    <span>{{\n      { key: 'auth.signIn.title', fallback: 'Sign in' } | rsTranslate | async\n    }}</span>\n  </div>\n  <hr />\n  <form\n    vclForm\n    class=\"form\"\n    [formGroup]=\"form\"\n    (ngSubmit)=\"onSubmit()\"\n  >\n    <vcl-form-control-group>\n      <vcl-label>{{\n        { key: 'auth.signIn.identifierLabel', fallback: 'Email or Username' }\n          | rsTranslate\n          | async\n      }}</vcl-label>\n      <vcl-input-field>\n        <input\n          vclInput\n          formControlName=\"identifier\"\n        />\n      </vcl-input-field>\n    </vcl-form-control-group>\n\n    <vcl-form-control-group>\n      <vcl-label>\n        {{\n          { key: 'auth.signIn.passwordLabel', fallback: 'Password' }\n            | rsTranslate\n            | async\n        }}\n        Password</vcl-label\n      >\n      <vcl-password-input>\n        <input\n          vclInput\n          formControlName=\"password\"\n        />\n      </vcl-password-input>\n    </vcl-form-control-group>\n\n    <vcl-form-control-group>\n      <vcl-checkbox formControlName=\"remember\">\n        {{\n          {\n            key: 'auth.signIn.remember7Days',\n            fallback: 'Stay signed in for 7 days'\n          }\n            | rsTranslate\n            | async\n        }}\n      </vcl-checkbox>\n    </vcl-form-control-group>\n\n    <div class=\"row\">\n      <button\n        [disabled]=\"form.invalid\"\n        vcl-button\n        type=\"submit\"\n        class=\"w-100p\"\n      >\n        Sign in\n      </button>\n    </div>\n\n    <p class=\"mt-3\">\n      <a routerLink=\"password-recovery\">Forgot Password?</a>\n    </p>\n  </form>\n</rc-auth-layout>\n"]}