{"version":3,"file":"resource-list.component.js","sourceRoot":"","sources":["../../../../../../../../../packages/modules/rc-ui/src/lib/shared/patterns/resource-list/resource-list.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAC/C,OAAO,EACL,uBAAuB,EACvB,SAAS,EACT,YAAY,EACZ,YAAY,EACZ,KAAK,EAEL,MAAM,EACN,WAAW,GACZ,MAAM,eAAe,CAAC;AAEvB,OAAO,EACL,kBAAkB,EAClB,iBAAiB,EACjB,aAAa,EACb,cAAc,GACf,MAAM,aAAa,CAAC;;;;;;;4CA+EM,iBAAW;;IAK9B,wBAEE;;;;IANJ,8CAGC;IADC,yOAAS,iCAAuB,KAAC;IAEjC,gHAEE;IACJ,iBAAqB;;;;IANnB,6CAAqB;IAIlB,cAA2B;IAAA,AAA3B,iDAA2B,yEAAwC;;;IANnD,+HASpB;;;IAToB,2BASpB;;;IACD,+BAA4B;IAC1B,YACF;IAAA,iBAAM;;;IADJ,cACF;IADE,kDACF;;AAMN,MAAM,OAAO,uBAAuB;IACP,KAAK,GAAY,EAAE,CAAC;IACpB,KAAK,CAAyB;IAEhD,KAAK,GAAG,OAAO,CAAC;IAChB,UAAU,GAAG,YAAY,CAAC;IAE1B,KAAK,GAAG,CAAC,CAAC;IACV,QAAQ,GAAG,CAAC,CAAC;IAEZ,YAAY,GAAG,IAAI,YAAY,EAAS,CAAC;IAEnD,YAAY;IAEZ,OAAO,CAAoB;IAG3B,SAAS,CAAoB;IAE7B,SAAS,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAA6B,CAAC;IAEjE,WAAW;QACT,IAAI,CAAC,SAAS,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClE,CAAC;iHAvBU,uBAAuB;6DAAvB,uBAAuB;gDAaI,WAAW;gDAGT,WAAW;;;;;;YA/F7C,AADF,AAJF,wCAGC,2BACuB,aAInB;YACC,yBAAwB;YACxB,+BAAgE;YAC9D,YACF;YAAA,iBAAO;YAEL,AADF,8BAA0C,gBAOvC;YACC,8BAAyC;YAC3C,iBAAS;YAET,iCAMC;YACC,+BAA4C;YAGlD,AADE,AADE,iBAAS,EACL,EACF;YAMJ,AAJF,+BAGC,0BAC+B;YAC5B,6BAGE;YACF,mCAKC;YACC,gCAA4C;YAEhD,AADE,iBAAS,EACO;YAElB,mCAKC;YACC,gCAA2C;YAGjD,AADE,AADE,iBAAS,EACL,EACe;YAWnB,AATJ,iFAAoB,sEAST;YAKb,iBAAgB;;YA/Ed,+BAAiB;YAUX,eACF;YADE,0CACF;YAsDJ,gBAaC;YAbD,4CAaC;4BAtFH,YAAY,uBACZ,iBAAiB,8GACjB,kBAAkB;YAClB,cAAc,6CACd,aAAa;;iFAuFJ,uBAAuB;cA9FnC,SAAS;eAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,OAAO,EAAE;oBACP,YAAY;oBACZ,iBAAiB;oBACjB,kBAAkB;oBAClB,cAAc;oBACd,aAAa;iBACd;gBACD,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkFT;gBACD,eAAe,EAAE,uBAAuB,CAAC,MAAM;aAChD;;kBAEE,KAAK;mBAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;;kBACxB,KAAK;mBAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;;kBAExB,KAAK;;kBACL,KAAK;;kBAEL,KAAK;;kBACL,KAAK;;kBAEL,MAAM;;kBAGN,YAAY;mBAAC,cAAc,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;;kBAGlD,YAAY;mBAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;;kFAhB1C,uBAAuB","sourcesContent":["import { CommonModule } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  TemplateRef,\n} from '@angular/core';\n\nimport {\n  VCLButtonComponent,\n  VCLDataListModule,\n  VCLIconModule,\n  VCLInputModule,\n} from '@vcl/ng-vcl';\nimport { RcId, RcResourceListHeaderCtx } from './resource-list.models';\n\n@Component({\n  selector: 'rc-resource-list',\n  imports: [\n    CommonModule,\n    VCLDataListModule,\n    VCLButtonComponent,\n    VCLInputModule,\n    VCLIconModule,\n  ],\n  template: `\n    <vcl-data-list\n      [noBorder]=\"true\"\n      class=\"w-100p h-100p\"\n    >\n      <vcl-data-list-header>\n        <div\n          class=\"toolbar row just align-items-center px-2\"\n          role=\"menubar\"\n        >\n          <div class=\"flex\"></div>\n          <span class=\"flex row justify-content-center overflow-ellipsis\">\n            {{ title }}\n          </span>\n          <div class=\"flex row justify-content-end\">\n            <button\n              vclAppend\n              vcl-button\n              square\n              class=\"transparent\"\n              title=\"Add\"\n            >\n              <vcl-icon icon=\"mdi mdi-plus\"></vcl-icon>\n            </button>\n\n            <button\n              vclAppend\n              vcl-button\n              square\n              class=\"transparent\"\n              title=\"Refresh\"\n            >\n              <vcl-icon icon=\"mdi mdi-refresh\"></vcl-icon>\n            </button>\n          </div>\n        </div>\n\n        <div\n          class=\"toolbar row justify-between px-2 mt-1 mb-2\"\n          role=\"menubar\"\n        >\n          <vcl-input-field class=\"flex\">\n            <input\n              placeholder=\"Search...\"\n              vclInput\n            />\n            <button\n              vclAppend\n              vcl-button\n              square\n              class=\"transparent\"\n            >\n              <vcl-icon icon=\"mdi mdi-magnify\"></vcl-icon>\n            </button>\n          </vcl-input-field>\n\n          <button\n            vcl-button\n            square\n            class=\"transparent\"\n            title=\"Open filter\"\n          >\n            <vcl-icon icon=\"mdi mdi-filter\"></vcl-icon>\n          </button>\n        </div>\n      </vcl-data-list-header>\n\n      @if (items.length) { @for (item of items; track getId(item)) {\n      <vcl-data-list-item\n        [value]=\"getId(item)\"\n        (click)=\"itemSelected.emit(item)\"\n      >\n        <ng-container\n          *ngTemplateOutlet=\"itemTpl; context: { $implicit: item, item: item }\"\n        />\n      </vcl-data-list-item>\n      } } @else {\n      <div class=\"p-2 text-muted\">\n        {{ emptyLabel }}\n      </div>\n      }\n    </vcl-data-list>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RcResourceListComponent<TItem = unknown> implements OnChanges {\n  @Input({ required: true }) items: TItem[] = [];\n  @Input({ required: true }) getId!: (item: TItem) => RcId;\n\n  @Input() title = 'Items';\n  @Input() emptyLabel = 'No results';\n\n  @Input() total = 0;\n  @Input() filtered = 0;\n\n  @Output() itemSelected = new EventEmitter<TItem>();\n\n  // Templates\n  @ContentChild('itemTemplate', { read: TemplateRef })\n  itemTpl!: TemplateRef<any>;\n\n  @ContentChild('headerTemplate', { read: TemplateRef })\n  headerTpl?: TemplateRef<any>;\n\n  headerCtx = { total: 0, filtered: 0 } as RcResourceListHeaderCtx;\n\n  ngOnChanges(): void {\n    this.headerCtx = { total: this.total, filtered: this.filtered };\n  }\n}\n"]}